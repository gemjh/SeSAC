# 소프트웨어 개발 환경 및 실행 환경

## 1. 개발 환경

### 1.1 운영체제 및 플랫폼
- **주요 플랫폼**: macOS (Apple Silicon), Windows 지원
- **권장 운영체제**: macOS 11.0 이상, Windows 10 이상

### 1.2 Python 환경
- **Python 버전**: 3.10.x
- **가상환경 관리**: Anaconda/Conda
- **환경명**: CLAP_PC

### 1.3 패키지 관리자
- **Conda**: 시스템 레벨 의존성 관리 (ffmpeg 등)
- **pip**: Python 패키지 관리

## 2. 실행 환경

### 2.1 시스템 요구사항
- **메모리**: 최소 8GB RAM (16GB 권장)
- **디스크**: 최소 5GB 여유 공간
- **프로세서**: 64-bit 프로세서 (Apple Silicon/Intel/AMD)

### 2.2 데이터베이스
- **DBMS**: MySQL 8.0
- **DB명**: clap
- **사용자**: clapuser
- **포트**: 3306 (기본값)
- **문자셋**: utf8mb4

### 2.3 웹 프레임워크
- **UI 프레임워크**: Streamlit 1.39.0
- **실행 방법**: `streamlit run ui/app.py`
- **포트**: 기본 8501

## 3. 핵심 기술 스택

### 3.1 머신러닝/딥러닝 프레임워크
- **TensorFlow**: 2.19.0 (Apple Silicon: tensorflow-macos)
- **PyTorch**: 2.8.0
- **TensorFlow Hub**: 0.16.1
- **Transformers**: 4.55.2 (Hugging Face)

### 3.2 오디오 처리
- **librosa**: 0.11.0 (오디오 신호 처리)
- **soundfile**: 0.12.1 (오디오 파일 I/O)
- **pydub**: 0.25.1 (오디오 변환)
- **torchaudio**: 2.8.0 (PyTorch 오디오)
- **openai-whisper**: 음성 인식

### 3.3 데이터 처리 및 분석
- **pandas**: 데이터 조작 및 분석
- **numpy**: 2.0.2 (수치 계산)
- **scikit-learn**: 머신러닝 유틸리티
- **scipy**: 1.14.1 (과학 계산)

### 3.4 시각화
- **matplotlib**: 기본 시각화
- **plotly**: 5.24.1 (인터랙티브 차트)

### 3.5 기타 핵심 라이브러리
- **ffmpeg**: 멀티미디어 처리 (conda 설치)
- **mysql-connector-python**: 9.1.0 (DB 연결)
- **python-dotenv**: 1.1.1 (환경변수 관리)

## 4. 환경 설정

### 4.1 가상환경 생성
```bash
conda env create --file environment.yaml
conda activate CLAP_PC
```

### 4.2 환경변수 설정 (.env)
```
# 데이터베이스 설정
db_host=localhost
db_port=3306
db_database=clap
db_username=clapuser
db_password=00000000

# 파일 경로 설정
base_path=/path/to/project
```

### 4.3 성능 최적화 설정
- **TensorFlow**: CPU 전용 모드, 스레드 수 제한
- **PyTorch**: MPS 비활성화 (Apple Silicon 호환성)
- **병렬처리**: TF_NUM_INTEROP_THREADS=1, TF_NUM_INTRAOP_THREADS=1

## 5. 프로젝트 구조
- **ui/**: 웹 인터페이스 (Streamlit)
- **models/**: 머신러닝 모델 파일 및 추론 코드
- **db/**: 데이터베이스 스키마 및 연결 모듈
- **files/**: 업로드된 환자 데이터 파일 저장소

## 6. 설치 및 실행 가이드

### 6.1 설치 순서
1. Anaconda 설치
2. MySQL 8.0 설치
3. 가상환경 생성: `conda env create --file environment.yaml`
4. DB 스키마 및 사용자 생성
5. `.env` 파일 설정
6. 애플리케이션 실행: `streamlit run ui/app.py`

### 6.2 데이터베이스 초기 설정
```sql
CREATE DATABASE clap CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
CREATE USER 'clapuser'@'%' IDENTIFIED BY '00000000';
GRANT ALL PRIVILEGES ON clap.* TO 'clapuser'@'%';
FLUSH PRIVILEGES;
```